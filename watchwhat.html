<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch What? - MOSS Movies</title>
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/movie-cards.css">
    <link rel="stylesheet" href="css/watchwhat-new.css">
</head>
<body>
    <nav class="top-nav">
        <img src="media/website logo text.png" alt="MOSS Logo" class="header-logo">
        <ul>
            <li><a href="index.html" class="nav-link" title="Home">HOME</a></li>
            <li><a href="watchwhat.html" class="nav-link active" title="Watch What?">WATCH WHAT?</a></li>
            <li><a href="community.html" class="nav-link" title="Community">COMMUNITY</a></li>
            <li><a href="support.html" class="nav-link" title="Support">SUPPORT</a></li>
            <li><a href="account.html" class="nav-link" title="My Account">MY ACCOUNT</a></li>
        </ul>
        <div class="search-bar">
            <label for="search" class="sr-only">Search in MOSS:</label>
            <input type="text" id="search" class="search-input" placeholder="Search in MOSS">
            <button type="submit" class="search-btn" title="Search">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
            </button>
        </div>
    </nav>

    <!-- Movie Details Hero Section -->
    <section class="movie-hero" id="movie-hero">
        <div class="hero-backdrop" id="hero-backdrop" style="background-image: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);"></div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="movie-poster">
                <img id="movie-poster" src="" alt="Movie Poster" loading="lazy">
            </div>
            <div class="movie-info">
                <h1 id="movie-title">Discover Movies</h1>
                <div class="movie-meta" id="movie-meta">
                    <span id="movie-year" class="meta-tag"></span>
                    <span id="movie-runtime" class="meta-tag"></span>
                    <span id="movie-rating" class="meta-tag rating"></span>
                </div>
                <div id="movie-genres" class="genres-list"></div>
                <p id="movie-overview" class="movie-description">Explore detailed information about movies, watch trailers, and discover your next favorite film.</p>
                <div class="hero-actions" id="hero-actions">
                    <button id="watch-trailer-btn" class="btn btn-primary" style="display: none;">
                        <span class="btn-icon">▶</span> Watch Trailer
                    </button>
                    <button id="main-action-btn" class="btn btn-secondary" style="display: none;">
                        <span class="btn-icon">ℹ️</span> More Info
                    </button>
                </div>
            </div>
        </div>
    </section>

    <main>
        <!-- Movie Details Section (shown when viewing specific movie) -->
        <section class="movie-details" id="movie-details" style="display: none;">
            <div class="container">
                <div class="details-tabs">
                    <button class="tab-btn active" data-tab="plot">Plot</button>
                    <button class="tab-btn" data-tab="cast">Cast</button>
                    <button class="tab-btn" data-tab="reviews">Reviews</button>
                </div>

                <div class="tab-content">
                    <div class="tab-panel active" id="plot-panel">
                        <h2>Plot Summary</h2>
                        <p id="detailed-plot">Loading plot details...</p>
                    </div>

                    <div class="tab-panel" id="cast-panel">
                        <h2>Cast & Crew</h2>
                        <div id="cast-grid" class="cast-grid">
                            <!-- Cast members will be loaded here -->
                        </div>
                    </div>

                    <div class="tab-panel" id="reviews-panel">
                        <h2>Reviews</h2>
                        <div class="review-form">
                            <h3>Share Your Review</h3>
                            <form id="reviewForm">
                                <div class="rating-input">
                                    <input type="radio" name="rating" id="star5" value="5"><label for="star5">★</label>
                                    <input type="radio" name="rating" id="star4" value="4"><label for="star4">★</label>
                                    <input type="radio" name="rating" id="star3" value="3"><label for="star3">★</label>
                                    <input type="radio" name="rating" id="star2" value="2"><label for="star2">★</label>
                                    <input type="radio" name="rating" id="star1" value="1"><label for="star1">★</label>
                                </div>
                                <textarea id="review-text" placeholder="What did you think of this movie?" required></textarea>
                                <button type="submit" class="btn btn-primary">Submit Review</button>
                            </form>
                        </div>
                        <div id="user-reviews" class="reviews-list">
                            <!-- User reviews will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Movie Discovery Section -->
        <section class="movie-discovery" id="movie-discovery">
            <div class="container">
                <div class="discovery-header">
                    <h2 id="discovery-title">You Might Also Like</h2>
                    <div class="discovery-controls">
                        <button class="filter-btn active" data-filter="similar" id="similar-btn">Similar Movies</button>
                        <button class="filter-btn" data-filter="popular">Popular</button>
                        <button class="filter-btn" data-filter="trending">Trending</button>
                    </div>
                </div>
            </div>

            <div class="movie-list" id="discovery-grid">
                <!-- Loading state -->
                <div class="loading-state" id="discovery-loading">
                    <div class="loading-spinner"></div>
                    <p>Loading movies...</p>
                </div>
            </div>

            <div class="container">
                <div class="load-more-section">
                    <button id="load-more-discovery" class="btn btn-outline">Load More Movies</button>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <p>© 2024 MOSS - Movies One-stop Station</p>
    </footer>
    <script src="js/watchwhat-new.js"></script>
</body>
</html>